<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding the formats</title>
    <meta name="title" content="Understanding the formats">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Understanding the formats">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../static/styles/template.css">
    <link rel="stylesheet" href="../../../static/styles/main.css">
    <script>
        var docsVersion = "";

        var root = document.documentElement;
        var rootComputedStyle = window.getComputedStyle(root);
        function setScrollbarTheme(theme) {
            root.style.setProperty('--scrollbar-track', rootComputedStyle.getPropertyValue('--scrollbar-track-'+theme));
            root.style.setProperty('--scrollbar-track-thumb', rootComputedStyle.getPropertyValue('--scrollbar-track-thumb-'+theme));
            root.style.setProperty('--scrollbar-thumb-hover', rootComputedStyle.getPropertyValue('--scrollbar-thumb-hover-'+theme));
        }

        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            setScrollbarTheme('dark');
            document.documentElement.classList.add('dark');
        } else {
            setScrollbarTheme('light');
            document.documentElement.classList.remove('dark');
        }
    </script>
</head>
<body>
    <header>
        <nav>
            <a class="navbar-brand" href="../../../index.html">
                <img id="logo" class="svg" src="../../../logo.png" alt="">
            </a>
            <div class="nav">
                <div class="nav-item">
                    <a href="../../../installing/getting_started.html">Installing Mods</a>
                </div>
                <div class="nav-item">
                    <a href="../../../creating/making_mods.html">Creating Mods</a>
                </div>
            </div>
            <div id="version-picker"></div>
            <a id="menu-switch" class="icon-menu"></a>
            <a id="theme-switch" class="icon-lightbulb"></a>
        </nav>
    </header>
    <section id="global-messages"></section>
        <aside class="toc">
    <span class="toc-menu-button">
        <span>Table of Contents</span>
        <i class="icon-menu"></i>
    </span>
    <div class="toc-items">
    <ul>
        <li>
            <a href="../../making_mods.html">Making mods</a>
        </li>
        <li>
            <details open="">
            <summary>
            <a href="../../meatkit/intro.html" class="active">MeatKit</a>
            </summary>
            <ul>
                <li>
                    <a href="../../meatkit/intro.html">Introduction</a>
                </li>
                <li>
                    <details>
                    <summary>
                    <a href="../../meatkit/getting_started/1_setup.html">Getting Started</a>
                    </summary>
                    <ul>
                        <li>
                            <a href="../../meatkit/getting_started/1_setup.html">1. Setup</a>
                        </li>
                        <li>
                            <a href="../../meatkit/getting_started/2_build_profile.html">2. Build Profile</a>
                        </li>
                        <li>
                            <a href="../../meatkit/getting_started/3_creating.html">3. Creating</a>
                        </li>
                    </ul>        </details>
                </li>
                <li>
                    <details>
                    <summary>
                    <a href="../../meatkit/build_items/index.html">Build Items</a>
                    </summary>
                    <ul>
                        <li>
                            <a href="../../meatkit/build_items/store_files.html">Store Files</a>
                        </li>
                        <li>
                            <a href="../../meatkit/build_items/preload_assets.html">Preload Assets</a>
                        </li>
                        <li>
                            <a href="../../meatkit/build_items/atlas_scene.html">Atlas Scene</a>
                        </li>
                    </ul>        </details>
                </li>
                <li>
                    <details open="">
                    <summary>
                    <a href="../../meatkit/technical/1_intro.html" class="active">Technical Info</a>
                    </summary>
                    <ul>
                        <li>
                            <a href="../../meatkit/technical/1_intro.html">1. Introduction</a>
                        </li>
                        <li>
                            <a href="../../meatkit/technical/2_formats.html" class="active">2. Formats</a>
                        </li>
                        <li>
                            <a href="../../meatkit/technical/3_importing.html">3. Importing</a>
                        </li>
                        <li>
                            <a href="../../meatkit/technical/4_build_pipeline.html">4. Build Pipeline</a>
                        </li>
                        <li>
                            <a href="../../meatkit/technical/5_exporting.html">5. Exporting</a>
                        </li>
                    </ul>        </details>
                </li>
            </ul>        </details>
        </li>
        <li>
            <details>
            <summary>
            <a href="../../mapping/index.html">Mapping</a>
            </summary>
            <ul>
                <li>
                    <details>
                    <summary>
                    <a href="../../mapping/atlas/intro.html">Atlas</a>
                    </summary>
                    <ul>
                        <li>
                            <details>
                            <summary>
                            <a href="../../mapping/atlas/getting_started/1_requirements.html">Getting Started</a>
                            </summary>
                            <ul>
                                <li>
                                    <a href="../../mapping/atlas/getting_started/1_requirements.html">1. Requirements</a>
                                </li>
                                <li>
                                    <a href="../../mapping/atlas/getting_started/2_the_basics.html">2. The Basics</a>
                                </li>
                            </ul>        </details>
                        </li>
                        <li>
                            <details>
                            <summary>
                            <a href="../../mapping/atlas/tutorials/index.html">Tutorials</a>
                            </summary>
                            <ul>
                                <li>
                                    <a href="../../mapping/atlas/tutorials/spawning_sosigs.html">Spawning Sosigs</a>
                                </li>
                                <li>
                                    <a href="../../mapping/atlas/tutorials/doors_windows.html">Doors and Windows</a>
                                </li>
                            </ul>        </details>
                        </li>
                    </ul>        </details>
                </li>
                <li>
                    <a href="../../mapping/wurstmod/intro.html">WurstMod</a>
                </li>
            </ul>        </details>
        </li>
        <li>
            <details>
            <summary>
            <a href="../../scripting/intro.html">Scripting</a>
            </summary>
            <ul>
                <li>
                    <a href="../../scripting/intro.html">Intro</a>
                </li>
                <li>
                    <a href="../../scripting/comparison.html">Comparisons</a>
                </li>
                <li>
                    <a href="../../scripting/dnSpy.html">dnSpy</a>
                </li>
                <li>
                    <a href="../../scripting/debugging.html">Debugging</a>
                </li>
            </ul>        </details>
        </li>
        <li>
            <details>
            <summary>
            <a href="../../implementing/the_basics.html">Implementing</a>
            </summary>
            <ul>
                <li>
                    <a href="../../implementing/the_basics.html">The Basics</a>
                </li>
                <li>
                    <details>
                    <summary>
                    <a href="../../implementing/modul/creation.html">Modul Weapons</a>
                    </summary>
                    <ul>
                        <li>
                            <a href="../../implementing/modul/creation.html">Creation</a>
                        </li>
                        <li>
                            <a href="../../implementing/modul/id_duping.html">ID Duping</a>
                        </li>
                    </ul>        </details>
                </li>
                <li>
                    <a href="../../implementing/pre-attached_attachments.html">Pre-Attached Attachments</a>
                </li>
                <li>
                    <a href="../../implementing/grenades.html">Grenades</a>
                </li>
            </ul>        </details>
        </li>
        <li>
            <details>
            <summary>
            <a href="../../asset_replacement/skin_making_basics/basics_1_tools.html">Asset Replacement</a>
            </summary>
            <ul>
                <li>
                    <details>
                    <summary>
                    <a href="../../asset_replacement/skin_making_basics/basics_1_tools.html">Skin Making Basics</a>
                    </summary>
                    <ul>
                        <li>
                            <a href="../../asset_replacement/skin_making_basics/basics_1_tools.html">Skin Making Basics 1 - Tools</a>
                        </li>
                        <li>
                            <a href="../../asset_replacement/skin_making_basics/basics_2_meshes.html">Skin Making Basics 2 - Meshes and Textures</a>
                        </li>
                        <li>
                            <a href="../../asset_replacement/skin_making_basics/basics_3_blender.html">Skin Making Basics 3 - Blender</a>
                        </li>
                        <li>
                            <a href="../../asset_replacement/skin_making_basics/basics_4_painting.html">Skin Making Basics 4 - Painting</a>
                        </li>
                        <li>
                            <a href="../../asset_replacement/skin_making_basics/basics_5_exporting.html">Skin Making Basics 5 - Exporting</a>
                        </li>
                        <li>
                            <a href="../../asset_replacement/skin_making_basics/basics_6_hotmods.html">Skin Making Basics 6 - Hotmods</a>
                        </li>
                        <li>
                            <a href="../../asset_replacement/skin_making_basics/extras.html">Extras</a>
                        </li>
                    </ul>        </details>
                </li>
                <li>
                    <details>
                    <summary>
                    <a href="../../asset_replacement/skin_making_advanced/stamp.html">Skin Making Advanced</a>
                    </summary>
                    <ul>
                        <li>
                            <a href="../../asset_replacement/skin_making_advanced/stamp.html">Stamps</a>
                        </li>
                        <li>
                            <a href="../../asset_replacement/skin_making_advanced/engraving.html">Making Engravings</a>
                        </li>
                    </ul>        </details>
                </li>
                <li>
                    <details>
                    <summary>
                    <a href="../../asset_replacement/skin_making_animated/animated.html">Animated Skins</a>
                    </summary>
                    <ul>
                        <li>
                            <a href="../../asset_replacement/skin_making_animated/animated.html">Animated Skins</a>
                        </li>
                        <li>
                            <a href="../../asset_replacement/skin_making_animated/animated_unity.html">Animated Skins - Unity</a>
                        </li>
                        <li>
                            <a href="../../asset_replacement/skin_making_animated/animated_hotmod.html">Animated Skins - Hotmodding</a>
                        </li>
                    </ul>        </details>
                </li>
                <li>
                    <a href="../../asset_replacement/tnh_music/hold_music.html">Take and Hold Music</a>
                </li>
            </ul>        </details>
        </li>
        <li>
            <details>
            <summary>
            <a href="../../thunderstore/uploading.html">Thunderstore Packages</a>
            </summary>
            <ul>
                <li>
                    <a href="../../thunderstore/uploading.html">1. Preparing Your Manifest And Package</a>
                </li>
                <li>
                    <a href="../../thunderstore/creating.html">2. Adding Your H3VR Content To Your Package</a>
                </li>
                <li>
                    <a href="../../thunderstore/updating.html">Updating Your Thunderstore Package</a>
                </li>
                <li>
                    <a href="../../thunderstore/modpacks.html">Making Modpacks</a>
                </li>
            </ul>        </details>
        </li>
        <li>
            <a href="../../delimods.html">Packing Deli mods</a>
        </li>
    </ul></div>
    </aside>
    <main class="  ">
<h1 id="understanding-the-formats">Understanding the formats</h1>

<p>The following articles require some understanding of two main things; .NET Assemblies, and Unity
Asset Bundles. This article will explain what you need to know about them so you can later
understand what we're working with.</p>
<h2 id="net-assemblies">.NET Assemblies</h2>
<p>.NET Assemblies (commonly .dll files) is the file which contains the code for the game, or even
your mods. When you write code in C# and click 'build', your code gets compiled into a dll file
which is a more computer efficient way of storing your code so that it can be run later.
Importantly though, during this process, your code translated from the C# that you wrote it in
to another language called IL, and the compiler has very likely applied some optimizations to
your code. This IL requires much less processing to run, and combined with the optimizations
that makes it faster, but there is no way to get back the original C# code that you originally
wrote from just this DLL alone.</p>
<p>Using a <em>de</em>-compiler such as dnSpy you can make an attempt are reversing this process but <em>it
is not perfect</em>. For simpler bits of code it may produce the same output as the original input
but in larger projects that will certainly not be the case, and often some of the optimizations
that the compiler applies <em>cannot</em> be automatically reversed by the tool <em>at all</em>. In the case
of this game, the decompiled code exported to a C# project will not compile. This is fine if
all you want to do is read the game's code to understand what it is doing though, which is a
very useful tool for modding.</p>
<h2 id="unity-asset-bundles">Unity Asset bundles</h2>
<p>When you build an asset bundle with Unity (or when a tool does it for you), Unity packages up
all of your objects, all objects that those objects reference, and every single asset that any
of those objects use. Textures, materials, shaders, etc etc. One thing it does not include
however is any scripts you may have written or applied to objects in the bundle, those are
stored in the compiled assembly of your game.</p>
<p>For each script that gets used on the objects that Unity includes in any bundle, Unity includes
a special type of asset used internally and then the objects all point at that as the reference
to which script they need. This special asset contains just two bits of data; the name of the
assembly that the script is contained in, and then the name of the script itself.</p>
<p>So as an example, if you place a .cs script in your project named MyCustomScript and export a
bundle containing an object which uses that script, that bundle will contain one of these special
assets that contains the name of the assembly of the script (<code>Assembly-CSharp.dll</code>) and the name
of the script (<code>MyCustomScript</code>). Those two pieces of data together uniquely identify any script
that you may want to find later.</p>
<h2 id="what-you-need-to-remember">What you need to remember</h2>
<ul>
<li>Compiling code is not perfectly reversible, decompiled code will likely have errors and will not be re-compilable.</li>
<li>Unity Asset bundles store references to scripts on objects by the name of the assembly that contains them, alongside the name of the script itself.</li>
</ul>
<p>With that out of the way, you can continue to the first article about MeatKit: <a href="3_importing.html">Importing the game</a>.</p>
</main>
    <aside class="affix">
    <div>
        <div class="source-links">
            <a href="https://github.com/H3VR-Modding/wiki/blob/main/src/creating/meatkit/technical/2_formats.md/#L1">Improve this Doc</a>
        </div>
        <div class="affix-toc"></div>
    </div>
    </aside>    <footer>
        <div>H3VR Modding Wiki</div>
        
    </footer>
<script type="text/javascript" src="../../../static/scripts/template.js"></script>
<script type="text/javascript" src="../../../static/scripts/main.js"></script>
</body>
</html>